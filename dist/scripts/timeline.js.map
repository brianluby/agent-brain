{"version":3,"sources":["../../src/scripts/timeline.ts"],"names":[],"mappings":";;;;;AAWA,eAAe,IAAA,GAAO;AACpB,EAAA,MAAM,IAAA,GAAO,OAAA,CAAQ,IAAA,CAAK,KAAA,CAAM,CAAC,CAAA;AACjC,EAAA,MAAM,QAAQ,QAAA,CAAS,IAAA,CAAK,CAAC,CAAA,IAAK,MAAM,EAAE,CAAA;AAG1C,EAAA,MAAM,UAAA,GAAa,OAAA,CAAQ,GAAA,CAAI,kBAAA,IAAsB,QAAQ,GAAA,EAAI;AACjE,EAAA,MAAM,UAAA,GAAa,OAAA,CAAQ,UAAA,EAAY,kBAAkB,CAAA;AAGzD,EAAA,IAAI,CAAC,UAAA,CAAW,UAAU,CAAA,EAAG;AAC3B,IAAA,OAAA,CAAQ,GAAA,CAAI,iDAAiD,UAAU,CAAA;AACvE,IAAA,MAAM,SAAA,GAAY,QAAQ,UAAU,CAAA;AACpC,IAAA,SAAA,CAAU,SAAA,EAAW,EAAE,SAAA,EAAW,IAAA,EAAM,CAAA;AACxC,IAAA,MAAM,MAAA,CAAO,YAAY,OAAO,CAAA;AAChC,IAAA,OAAA,CAAQ,IAAI,uDAAkD,CAAA;AAC9D,IAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,EAChB;AAEA,EAAA,IAAI;AACF,IAAA,MAAM,MAAA,GAAS,MAAM,GAAA,CAAI,OAAA,EAAS,UAAU,CAAA;AAC5C,IAAA,MAAM,QAAA,GAAW,MAAM,MAAA,CAAO,QAAA,CAAS,EAAE,KAAA,EAAO,OAAA,EAAS,MAAM,CAAA;AAG/D,IAAA,MAAM,MAAA,GAAS,MAAM,OAAA,CAAQ,QAAQ,IAAI,QAAA,GAAY,QAAA,CAAS,UAAU,EAAC;AAEzE,IAAA,IAAI,MAAA,CAAO,WAAW,CAAA,EAAG;AACvB,MAAA,OAAA,CAAQ,IAAI,2DAA2D,CAAA;AACvE,MAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,IAChB;AAEA,IAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,OAAA,EAAU,MAAA,CAAO,MAAM,CAAA;AAAA,CAAc,CAAA;AAEjD,IAAA,KAAA,IAAS,CAAA,GAAI,CAAA,EAAG,CAAA,GAAI,MAAA,CAAO,QAAQ,CAAA,EAAA,EAAK;AACtC,MAAA,MAAM,KAAA,GAAQ,OAAO,CAAC,CAAA;AACtB,MAAA,MAAM,OAAA,GAAU,MAAM,OAAA,IAAW,EAAA;AACjC,MAAA,MAAM,GAAA,GAAM,KAAA,CAAM,GAAA,IAAO,CAAA,MAAA,EAAS,MAAM,QAAQ,CAAA,CAAA;AAChD,MAAA,MAAM,SAAA,GAAY,KAAA,CAAM,SAAA,GACpB,IAAI,IAAA,CAAK,MAAM,SAAA,GAAY,GAAI,CAAA,CAAE,cAAA,EAAe,GAChD,cAAA;AACJ,MAAA,MAAM,OAAA,GAAU,QAAQ,KAAA,CAAM,CAAA,EAAG,GAAG,CAAA,CAAE,OAAA,CAAQ,OAAO,GAAG,CAAA;AAExD,MAAA,OAAA,CAAQ,IAAI,CAAA,CAAA,EAAI,CAAA,GAAI,CAAC,CAAA,CAAA,EAAI,GAAG,CAAA,CAAE,CAAA;AAC9B,MAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,aAAA,EAAS,SAAS,CAAA,CAAE,CAAA;AAChC,MAAA,OAAA,CAAQ,GAAA,CAAI,MAAM,OAAO,CAAA,EAAG,QAAQ,MAAA,IAAU,GAAA,GAAM,KAAA,GAAQ,EAAE,CAAA,CAAE,CAAA;AAChE,MAAA,OAAA,CAAQ,GAAA,EAAI;AAAA,IACd;AAAA,EACF,SAAS,KAAA,EAAO;AACd,IAAA,OAAA,CAAQ,KAAA,CAAM,2BAA2B,KAAK,CAAA;AAC9C,IAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,EAChB;AACF;AAEA,IAAA,EAAK","file":"timeline.js","sourcesContent":["#!/usr/bin/env node\n/**\n * Memvid Mind - Timeline Script\n *\n * View recent memories using the SDK (no CLI dependency)\n */\n\nimport { use, create } from \"@memvid/sdk\";\nimport { existsSync, mkdirSync } from \"node:fs\";\nimport { resolve, dirname } from \"node:path\";\n\nasync function main() {\n  const args = process.argv.slice(2);\n  const limit = parseInt(args[0] || \"10\", 10);\n\n  // Get memory file path\n  const projectDir = process.env.CLAUDE_PROJECT_DIR || process.cwd();\n  const memoryPath = resolve(projectDir, \".claude/mind.mv2\");\n\n  // Auto-create if doesn't exist\n  if (!existsSync(memoryPath)) {\n    console.log(\"No memory file found. Creating new memory at:\", memoryPath);\n    const memoryDir = dirname(memoryPath);\n    mkdirSync(memoryDir, { recursive: true });\n    await create(memoryPath, \"basic\");\n    console.log(\"âœ… Memory initialized! No memories to show yet.\\n\");\n    process.exit(0);\n  }\n\n  try {\n    const memvid = await use(\"basic\", memoryPath);\n    const timeline = await memvid.timeline({ limit, reverse: true });\n\n    // SDK returns array directly or { frames: [...] }\n    const frames = Array.isArray(timeline) ? timeline : (timeline.frames || []);\n\n    if (frames.length === 0) {\n      console.log(\"No memories yet. Start using Claude to build your memory!\");\n      process.exit(0);\n    }\n\n    console.log(`Recent ${frames.length} memories:\\n`);\n\n    for (let i = 0; i < frames.length; i++) {\n      const frame = frames[i];\n      const preview = frame.preview || \"\";\n      const uri = frame.uri || `frame/${frame.frame_id}`;\n      const timestamp = frame.timestamp\n        ? new Date(frame.timestamp * 1000).toLocaleString()\n        : \"Unknown time\";\n      const snippet = preview.slice(0, 100).replace(/\\n/g, \" \");\n\n      console.log(`#${i + 1} ${uri}`);\n      console.log(`   ðŸ“… ${timestamp}`);\n      console.log(`   ${snippet}${snippet.length >= 100 ? \"...\" : \"\"}`);\n      console.log();\n    }\n  } catch (error) {\n    console.error(\"Error reading timeline:\", error);\n    process.exit(1);\n  }\n}\n\nmain();\n"]}