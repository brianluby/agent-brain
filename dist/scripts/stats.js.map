{"version":3,"sources":["../../src/scripts/stats.ts"],"names":[],"mappings":"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","file":"stats.js","sourcesContent":["#!/usr/bin/env node\n/**\n * Memvid Mind - Stats Script\n *\n * Get memory statistics using the SDK (no CLI dependency)\n */\n\nimport { use, create } from \"@memvid/sdk\";\nimport { existsSync, statSync, mkdirSync } from \"node:fs\";\nimport { resolve, dirname } from \"node:path\";\n\nfunction formatBytes(bytes: number): string {\n  if (bytes === 0) return \"0 B\";\n  const k = 1024;\n  const sizes = [\"B\", \"KB\", \"MB\", \"GB\"];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + \" \" + sizes[i];\n}\n\nasync function main() {\n  // Get memory file path\n  const projectDir = process.env.CLAUDE_PROJECT_DIR || process.cwd();\n  const memoryPath = resolve(projectDir, \".claude/mind.mv2\");\n\n  // Auto-create if doesn't exist\n  if (!existsSync(memoryPath)) {\n    console.log(\"No memory file found. Creating new memory at:\", memoryPath);\n    const memoryDir = dirname(memoryPath);\n    mkdirSync(memoryDir, { recursive: true });\n    await create(memoryPath, \"basic\");\n    console.log(\"âœ… Memory initialized! Stats will appear as you work.\\n\");\n  }\n\n  try {\n    const memvid = await use(\"basic\", memoryPath);\n    const stats = await memvid.stats();\n    const fileStats = statSync(memoryPath);\n\n    console.log(\"â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\");\n    console.log(\"        MEMVID MIND STATISTICS         \");\n    console.log(\"â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\\n\");\n\n    console.log(`ğŸ“ Memory File: ${memoryPath}`);\n    console.log(`ğŸ“Š Total Frames: ${stats.frame_count || 0}`);\n    console.log(`ğŸ’¾ File Size: ${formatBytes(fileStats.size)}`);\n\n    if (stats.capacity_bytes && typeof stats.capacity_bytes === 'number') {\n      const usagePercent = ((fileStats.size / stats.capacity_bytes) * 100).toFixed(1);\n      console.log(`ğŸ“ˆ Capacity Used: ${usagePercent}%`);\n    }\n\n    // Get timeline for recent activity\n    const timeline = await memvid.timeline({ limit: 1, reverse: true });\n    if (timeline.frames && timeline.frames.length > 0) {\n      const latest = timeline.frames[0];\n      const latestDate = latest.metadata?.timestamp\n        ? new Date(latest.metadata.timestamp as number).toLocaleString()\n        : \"Unknown\";\n      console.log(`ğŸ• Latest Memory: ${latestDate}`);\n    }\n\n    console.log(\"\\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\");\n  } catch (error) {\n    console.error(\"Error getting stats:\", error);\n    process.exit(1);\n  }\n}\n\nmain();\n"]}