{"version":3,"sources":["../../src/scripts/find.ts"],"names":[],"mappings":"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","file":"find.js","sourcesContent":["#!/usr/bin/env node\n/**\n * Memvid Mind - Find Script\n *\n * Search memories using the SDK (no CLI dependency)\n */\n\nimport { use, create } from \"@memvid/sdk\";\nimport { existsSync, mkdirSync } from \"node:fs\";\nimport { resolve, dirname } from \"node:path\";\n\nasync function main() {\n  const args = process.argv.slice(2);\n  const query = args[0];\n  const limit = parseInt(args[1] || \"5\", 10);\n\n  if (!query) {\n    console.error(\"Usage: find.js <query> [limit]\");\n    process.exit(1);\n  }\n\n  // Get memory file path\n  const projectDir = process.env.CLAUDE_PROJECT_DIR || process.cwd();\n  const memoryPath = resolve(projectDir, \".claude/mind.mv2\");\n\n  // Auto-create if doesn't exist\n  if (!existsSync(memoryPath)) {\n    console.log(\"No memory file found. Creating new memory at:\", memoryPath);\n    const memoryDir = dirname(memoryPath);\n    mkdirSync(memoryDir, { recursive: true });\n    await create(memoryPath, \"basic\");\n    console.log(\"âœ… Memory initialized! No memories to search yet.\\n\");\n    process.exit(0);\n  }\n\n  try {\n    const memvid = await use(\"basic\", memoryPath);\n    const results = await memvid.find(query, { k: limit });\n\n    // SDK returns { hits: [...], context: ..., total_hits: ... }\n    const hits = results.hits || [];\n\n    if (hits.length === 0) {\n      console.log(`No memories found for: \"${query}\"`);\n      process.exit(0);\n    }\n\n    console.log(`Found ${results.total_hits || hits.length} memories for: \"${query}\"\\n`);\n\n    for (const hit of hits) {\n      const title = hit.title || \"Untitled\";\n      const score = hit.score?.toFixed(2) || \"N/A\";\n      const snippet = (hit.snippet || \"\").slice(0, 200).replace(/\\n/g, \" \");\n      const labels = hit.labels?.slice(0, 3).join(\", \") || \"\";\n\n      console.log(`[${labels || \"memory\"}] ${title}`);\n      console.log(`  Score: ${score} | URI: ${hit.uri || \"\"}`);\n      console.log(`  ${snippet}${snippet.length >= 200 ? \"...\" : \"\"}`);\n      console.log();\n    }\n  } catch (error) {\n    console.error(\"Error searching memories:\", error);\n    process.exit(1);\n  }\n}\n\nmain();\n"]}